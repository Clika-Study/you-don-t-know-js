# 스코프란 무엇인가?
- 프로그래밍 언어의 기본 패러다임 중 하나는 <b>변수에 값을 저장하고 저장된 값을 가져다 쓰고 수정하는 것</b>
  - 변수는 어디에 살아있을까? (어디에 저장되는가)
  - 필요할 때 프로그램은 어떻게 변수를 찾을까?
- 프로그램은 특정 장소에 변수를 저장하고 나중에 그 변수를 찾기 위해 잘 정의된 규칙을 갖는다.
  - 그 규칙이 <b>스코프!</b> 

## 컴파일러 이론
- 자바스크립트는 일반적으로 '동적' 또는 '인터프리터' 언어로 분류하지만 <b>컴파일러 언어</b>다
  - 그렇다고 해서 자바스크립트가 전통적인 많은 컴파일러 언어처럼 코드를 미리 컴파일하거나 컴파일한 결과를 분산 시스템에서 이용하는 것은 X
    - 전통적인 컴파일러 언어의 처리 과정에서는 프로그램을 이루는 소스 코드가 실행되기 전에 보통 세 단계를 거치는데, 이를 컴파일레이션이라고 한다.
      1. 토크나이징/렉싱: 문자열을 나누어 토큰이라는 의미 있는 조각으로 만드는 과정.
      2. 파싱: 토큰 배열을 프로그램의 문법 구조를 반영하여 중첩 원소를 갖는 트리 형태로 바꾸는 과정. 파싱의 결과로 만들어진 트리를 AST라고 한다.
      3. 코드 생성: AST를 컴퓨터에서 실행 코드로 바꾸는 과정. 언어 또는 목표 플랫폼에 따라 크게 달라지는 부분이다.
     
## 스코프 이해하기
- 이 책에서는 스코프를 대화 형식으로 설명하려고 한다. 왜..? 그만큼 따분한 건가.

### 출연진(..?): 프로그램을 처리하는 것들..

`var a = 2;`를 처리할 주역들은 다음과 같다:
- 엔진: 컴파일레이션의 시작부터 끝까지 전 과정과 자바스크립트 프로그램 실행을 책임진다.
- 컴파일러: 엔진의 친구로, 파싱과 코드 생성의 모든 잡일을 도맡아 한다.
- 스코프: 엔진의 또 다른 친구로, 선언된 모든 확인자 (변수) 검색 목록을 작성하고 유지한다. 또한 엄격한 규칙을 강제하여 현재 실행 코드에서 확인자의 적용 방식을 정한다.

### 앞과 뒤

- 엔진은 `var a = 2;`를 하나의 구문이 아니라 두 개의 서로 다른 구문으로 본다:
  1. 컴파일러가 컴파일레이션 과정에서 처리할 구문
  2. 실행 과정에서 엔진이 처리할 구문
 
- 엔진과 친구들(컴파일러, 스코프..)이 `var a = 2;`를 어떻게 접근할까?
  1. 구문을 토큰으로 쪼개기
  2. 토큰을 파싱해 트리 구조로 만들기
  3. 그리고 코드 생성 과정에 들어가면..
     - 컴파일러가 `var a`를 만나면 스코프에게 변수 `a`가 특정한 스코프 컬렉션 안에 있는지 묻는다.
       - 이미 있다면, 컴파일러는 선언을 무시하고 지나가고,
       - 그렇지 않으면, 컴파일러는 새로운 변수 `a`를 스코프 컬렉션 내에 선언하라고 요청한다
     - 그후, 컴파일러는 `a = 2` 대입문을 처리하기 위해 나중에 엔진이 실행할 수 있는 코드를 생성한다.
     - 엔진이 실행하는 코드는 먼저 스코프에게 `a`라고 부르는 변수가 현재 스코프 컬렉션 내에서 접근할 수 있는지 확인한다.
       - 가능하다면, 엔진은 변수 `a`를 사용하고,
       - 아니라면, 엔진은 다른 곳(중첩 스코프 부분)을 살핀다.
     - 엔진이 마침내 변수를 찾으면 변수에 값 `2`를 넣고,
     - 못찾는다면 손을 들고 에러가 발생했다고 소리칠 것이다(..?)

- 그러니까 결론적으로 위의 과정은 두가지 단계로 함축하여 말할 수 있다:
  1. 컴파일러가 변수를 선언한다(현재 스코프에 미리 변수가 선언되지 않은 경우)
  2. 엔진이 스코프에서 변수를 찾고 변수가 있다면 값을 대입한다
 
### 컴파일러체
- 일단 컴파일러는 무엇이며, 컴파일러체는 또 무엇인가 할 수 있는데, 컴파일러체는 그냥 컴파일러의 사투리? 속어? 같은 것이라고 함 (주석 참조)
- 위의 두가지 단계에서 2번, 즉 엔진이 스코프에서 변수를 찾을 때, 엔진이 어떤 종류의 검색을 하느냐에 따라 검색 결과가 달라진다
  1. LHS 검색 (Left-Hand Side): 변수가 대입 연산자의 왼쪽에 있을 때의 검색 방식.
     - 예) `var a = 2`
     - `a`값을 신경쓸 필요없이 `= 2` 대입 연산을 수행할 대상 변수를 찾는다.
  2. RHS 검색 (Right-Hand Side): 변수가 대입 연산자의 오른쪽에 있을 때의 검색 방식.
     - 단순히 특정 변수의 값을 찾는 것과 다를 바 없다
     - 예) `console.log(a)`
- LHS와 RHS를 찾는 대상이 대입 연산자의 왼쪽이냐 오른쪽이냐로 이해하기보다는, <b>대입할 대상을 찾는지, 또는 대입한 값을 찾는지</b>로 이해하는 편이 낫다.  

### 느낀점
- 아니 벌써 책 반절을 지났다...
